
<Window x:Class="DesktopRestorer.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="桌面恢复工具" Height="550" Width="600" WindowStartupLocation="CenterScreen">
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- 源文件夹选择 -->
        <GroupBox Grid.Row="0" Header="源文件夹 (文件夹A)" Margin="0,5,0,10" Padding="5">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBox x:Name="SourceFolderTextBox" Grid.Column="0" Margin="0,0,5,0" Height="25"/>
                <Button x:Name="BrowseSourceButton" Grid.Column="1" Content="浏览..." Width="80" Height="25" Click="BrowseSourceButton_Click"/>
            </Grid>
        </GroupBox>

        <!-- 目标文件夹选择 -->
        <GroupBox Grid.Row="1" Header="目标文件夹 (桌面)" Margin="0,0,0,10" Padding="5">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBox x:Name="TargetFolderTextBox" Grid.Column="0" Margin="0,0,5,0" Height="25"/>
                <Button x:Name="BrowseTargetButton" Grid.Column="1" Content="浏览..." Width="80" Height="25" Click="BrowseTargetButton_Click"/>
            </Grid>
        </GroupBox>

        <!-- 开机自动启动选项 -->
        <CheckBox Grid.Row="2" x:Name="AutoStartCheckBox" Content="开机时自动启动并恢复桌面" Margin="0,0,0,10" Checked="AutoStartCheckBox_Checked" Unchecked="AutoStartCheckBox_Unchecked"/>

        <!-- 自动备份设置 -->
        <GroupBox Grid.Row="3" Header="自动备份设置" Margin="0,0,0,10" Padding="5">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <CheckBox Grid.Row="0" x:Name="AutoBackupCheckBox" Content="启用自动备份" Margin="0,0,0,5" Checked="AutoBackupCheckBox_Checked" Unchecked="AutoBackupCheckBox_Unchecked"/>
                <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="20,0,0,0">
                    <TextBlock Text="备份间隔(分钟): " VerticalAlignment="Center"/>
                    <ComboBox x:Name="BackupIntervalComboBox" Width="100" IsEnabled="{Binding ElementName=AutoBackupCheckBox, Path=IsChecked}">
                        <ComboBoxItem Content="5"/>
                        <ComboBoxItem Content="10"/>
                        <ComboBoxItem Content="15"/>
                        <ComboBoxItem Content="30" IsSelected="True"/>
                        <ComboBoxItem Content="60"/>
                    </ComboBox>
                </StackPanel>
            </Grid>
        </GroupBox>

        <!-- 操作按钮 -->
        <StackPanel Grid.Row="4" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,10,0,0">
            <Button x:Name="BackupNowButton" Height="40" Width="120" Margin="10,0" Click="BackupNowButton_Click" Background="#DDDDDD" Foreground="Black" BorderBrush="Gray" BorderThickness="1">
                <TextBlock Text="立即备份" FontSize="14" FontWeight="Normal"/>
            </Button>
            <Button x:Name="RestoreNowButton" Height="40" Width="120" Margin="10,0" Click="RestoreNowButton_Click" Background="#DDDDDD" Foreground="Black" BorderBrush="Gray" BorderThickness="1">
                <TextBlock Text="立即恢复桌面" FontSize="14" FontWeight="Normal"/>
            </Button>
            <Button x:Name="SystemShortcutsButton" Height="40" Width="120" Margin="10,0" Click="SystemShortcutsButton_Click" Background="#DDDDDD" Foreground="Black" BorderBrush="Gray" BorderThickness="1">
                <TextBlock Text="系统快捷方式" FontSize="14" FontWeight="Normal"/>
            </Button>
        </StackPanel>

        <!-- 操作日志 -->
        <GroupBox Grid.Row="5" Header="操作日志" Margin="0,10,0,0" Padding="5">
            <TextBox x:Name="LogTextBox" IsReadOnly="True" TextWrapping="Wrap" VerticalScrollBarVisibility="Auto" Height="100"/>
        </GroupBox>
    </Grid>
</Window>